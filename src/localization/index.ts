// src/localization/index.ts
import { Lang, MyContext } from "../core/types";

// –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –¥–ª—è –∫–ª—é—á–µ–π –ø–µ—Ä–µ–≤–æ–¥–∞ (—á—Ç–æ–±—ã –≤—Å–µ —è–∑—ã–∫–∏ –∏–º–µ–ª–∏ –æ–¥–∏–Ω–∞–∫–æ–≤—ã–µ –ø–æ–ª—è)
interface Translation {
    menu_about: string;
    menu_apply: string;
    menu_lang: string;
    welcome: string;
    about_text: string;
    lang_select: string;
    lang_changed: string;
    survey_start: string;
    q1: string;
    q2_exp: string;
    q2_int: string;
    final: string;
    btn_yes: string;
    btn_no: string;
    btn_exp_1: string;
    btn_exp_3: string;
    btn_exp_5: string;
    report_title: string;
    // –ò–Ω–¥–µ–∫—Å–Ω–∞—è —Å–∏–≥–Ω–∞—Ç—É—Ä–∞, —á—Ç–æ–±—ã ts –Ω–µ —Ä—É–≥–∞–ª—Å—è –ø—Ä–∏ –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–æ–º –¥–æ—Å—Ç—É–ø–µ,
    // –Ω–æ –ø—Ä–∏ —ç—Ç–æ–º —Å–æ—Ö—Ä–∞–Ω—è–ª–∞—Å—å —Ç–∏–ø–∏–∑–∞—Ü–∏—è –≤—ã—à–µ
    [key: string]: string;
}

const locales: Record<Lang, Translation> = {
    ru: {
        // –ú–µ–Ω—é –∏ –∫–Ω–æ–ø–∫–∏
        menu_about: "‚ÑπÔ∏è –û –Ω–∞—Å / –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è",
        menu_apply: "üìù –û—Å—Ç–∞–≤–∏—Ç—å –∑–∞—è–≤–∫—É",
        menu_lang: "üåê –Ø–∑—ã–∫ / Language",
        
        // –¢–µ–∫—Å—Ç—ã
        welcome: "–î–æ–±—Ä–æ –ø–æ–∂–∞–ª–æ–≤–∞—Ç—å –≤ TYREX.\n–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ –≤ –º–µ–Ω—é –Ω–∏–∂–µ:",
        
        // –ò–º–∏–¥–∂–µ–≤—ã–π —Ç–µ–∫—Å—Ç (–ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü–∏—è)
        about_text: 
            "<b>‚¨õÔ∏è –ò–Ω–≤–µ—Å—Ç–∏—Ü–∏–æ–Ω–Ω–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è TYREX</b>\n\n" +
            "–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –∫–∞–ø–∏—Ç–∞–ª–æ–º —á–µ—Ä–µ–∑ API —Å—É–±-–∞–∫–∫–∞—É–Ω—Ç—ã –Ω–∞ –±–∏—Ä–∂–∞—Ö —É—Ä–æ–≤–Ω—è Top-Tier (Binance, Bybit, Gate) <b>–±–µ–∑ –ø–µ—Ä–µ–¥–∞—á–∏ —Å—Ä–µ–¥—Å—Ç–≤ —Ç—Ä–µ—Ç—å–∏–º –ª–∏—Ü–∞–º</b>.\n\n" +
            "‚öôÔ∏è <b>–ò–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç—ã:</b>\n" +
            "–°–∏–Ω–µ—Ä–≥–∏—è —Å—Ç—Ä–∞—Ç–µ–≥–∏–π <b>Dual Investment</b> (–±–∏–≤–∞–ª—é—Ç–Ω—ã–µ –∏–Ω–≤–µ—Å—Ç–∏—Ü–∏–∏) + <b>Grid</b> (—Å–µ—Ç–æ—á–Ω–∞—è —Ç–æ—Ä–≥–æ–≤–ª—è).\n\n" +
            "üéØ <b>–§–∏–Ω–∞–Ω—Å–æ–≤–∞—è —Ü–µ–ª—å:</b>\n" +
            "–û—Ä–∏–µ–Ω—Ç–∏—Ä –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏ ‚Äî <b>45% –≥–æ–¥–æ–≤—ã—Ö –≤ –≤–∞–ª—é—Ç–µ</b> (USDT).\n\n" +
            "üõ° <b>–ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å –∏ –ü—Ä–æ–∑—Ä–∞—á–Ω–æ—Å—Ç—å:</b>\n" +
            "–ö–ª–∏–µ–Ω—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –ø–æ–ª–Ω—ã–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∞–∫—Ç–∏–≤–∞–º–∏. –í—ã –≤–∏–¥–∏—Ç–µ –∫–∞–∂–¥—É—é —Å–¥–µ–ª–∫—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Å–≤–æ–µ–º –±–∏—Ä–∂–µ–≤–æ–º –∞–∫–∫–∞—É–Ω—Ç–µ. –ú—ã —É–ø—Ä–∞–≤–ª—è–µ–º ‚Äî –≤—ã –∫–æ–Ω—Ç—Ä–æ–ª–∏—Ä—É–µ—Ç–µ.",
        
        lang_select: "–í—ã–±–µ—Ä–∏—Ç–µ —è–∑—ã–∫ / Choose language / –û–±–µ—Ä—ñ—Ç—å –º–æ–≤—É:",
        lang_changed: "‚úÖ –Ø–∑—ã–∫ –∏–∑–º–µ–Ω–µ–Ω –Ω–∞ –†—É—Å—Å–∫–∏–π.",
        
        // –ê–Ω–∫–µ—Ç–∞
        survey_start: "–û—Ç–≤–µ—Ç—å—Ç–µ –Ω–∞ 2 –≤–æ–ø—Ä–æ—Å–∞, —á—Ç–æ–±—ã –º—ã –ø–æ–Ω–∏–º–∞–ª–∏ –≤–∞—à –æ–ø—ã—Ç.",
        q1: "1. –ü–æ–ª—å–∑–æ–≤–∞–ª–∏—Å—å –ª–∏ –≤—ã –∫–æ–≥–¥–∞-–Ω–∏–±—É–¥—å USDT?",
        q2_exp: "2. –î–∞–≤–Ω–æ –ª–∏ –≤—ã –∑–Ω–∞–∫–æ–º—ã —Å —Ä—ã–Ω–∫–æ–º –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ã?",
        q2_int: "2. –ò–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç –ª–∏ –≤–∞—Å —Ä–∞–∑–æ–±—Ä–∞—Ç—å—Å—è, –∫–∞–∫ –∑–∞—Ä–∞–±–æ—Ç–∞—Ç—å –∏ –Ω–µ –ø—Ä–æ–≥–æ—Ä–µ—Ç—å –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–µ?",
        final: "<b>–°–ø–∞—Å–∏–±–æ! –í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ –ø—Ä–∏–Ω—è—Ç–∞.</b>\n\n–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç —Å–≤—è–∂–µ—Ç—Å—è —Å –≤–∞–º–∏ –≤ –±–ª–∏–∂–∞–π—à–µ–µ –≤—Ä–µ–º—è –¥–ª—è –æ–±—Å—É–∂–¥–µ–Ω–∏—è –¥–µ—Ç–∞–ª–µ–π –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è.",
        
        // –û—Ç–≤–µ—Ç—ã
        btn_yes: "–î–∞",
        btn_no: "–ù–µ—Ç",
        btn_exp_1: "–ú–µ–Ω—å—à–µ –≥–æ–¥–∞",
        btn_exp_3: "–ë–æ–ª—å—à–µ 3 –ª–µ—Ç",
        btn_exp_5: "–ë–æ–ª—å—à–µ 5 –ª–µ—Ç",
        
        // –û—Ç—á–µ—Ç –º–µ–Ω–µ–¥–∂–µ—Ä—É
        report_title: "–ù–û–í–ê–Ø –ó–ê–Ø–í–ö–ê",
    },
    ua: {
        menu_about: "‚ÑπÔ∏è –ü—Ä–æ –Ω–∞—Å / –ü—Ä–µ–∑–µ–Ω—Ç–∞—Ü—ñ—è",
        menu_apply: "üìù –ó–∞–ª–∏—à–∏—Ç–∏ –∑–∞—è–≤–∫—É",
        menu_lang: "üåê –ú–æ–≤–∞ / Language",
        
        welcome: "–õ–∞—Å–∫–∞–≤–æ –ø—Ä–æ—Å–∏–º–æ –≤ TYREX.\n–û–±–µ—Ä—ñ—Ç—å –¥—ñ—é –≤ –º–µ–Ω—é –Ω–∏–∂—á–µ:",
        
        about_text: 
            "<b>‚¨õÔ∏è –Ü–Ω–≤–µ—Å—Ç–∏—Ü—ñ–π–Ω–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥—ñ—è TYREX</b>\n\n" +
            "–ü—Ä–æ—Ñ–µ—Å—ñ–π–Ω–µ —É–ø—Ä–∞–≤–ª—ñ–Ω–Ω—è –∫–∞–ø—ñ—Ç–∞–ª–æ–º —á–µ—Ä–µ–∑ API —Å—É–±-–∞–∫–∞—É–Ω—Ç–∏ –Ω–∞ –±—ñ—Ä–∂–∞—Ö —Ä—ñ–≤–Ω—è Top-Tier (Binance, Bybit, Gate) <b>–±–µ–∑ –ø–µ—Ä–µ–¥–∞—á—ñ –∫–æ—à—Ç—ñ–≤ —Ç—Ä–µ—Ç—ñ–º –æ—Å–æ–±–∞–º</b>.\n\n" +
            "‚öôÔ∏è <b>–Ü–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç–∏:</b>\n" +
            "–°–∏–Ω–µ—Ä–≥—ñ—è —Å—Ç—Ä–∞—Ç–µ–≥—ñ–π <b>Dual Investment</b> (–±—ñ–≤–∞–ª—é—Ç–Ω—ñ —ñ–Ω–≤–µ—Å—Ç–∏—Ü—ñ—ó) + <b>Grid</b> (—Å—ñ—Ç–∫–æ–≤–∞ —Ç–æ—Ä–≥—ñ–≤–ª—è).\n\n" +
            "üéØ <b>–§—ñ–Ω–∞–Ω—Å–æ–≤–∞ —Ü—ñ–ª—å:</b>\n" +
            "–û—Ä—ñ—î–Ω—Ç–∏—Ä –ø—Ä–∏–±—É—Ç–∫–æ–≤–æ—Å—Ç—ñ ‚Äî <b>45% —Ä—ñ—á–Ω–∏—Ö —É –≤–∞–ª—é—Ç—ñ</b> (USDT).\n\n" +
            "üõ° <b>–ë–µ–∑–ø–µ–∫–∞ —Ç–∞ –ü—Ä–æ–∑–æ—Ä—ñ—Å—Ç—å:</b>\n" +
            "–ö–ª—ñ—î–Ω—Ç –∑–±–µ—Ä—ñ–≥–∞—î –ø–æ–≤–Ω–∏–π –∫–æ–Ω—Ç—Ä–æ–ª—å –Ω–∞–¥ –∞–∫—Ç–∏–≤–∞–º–∏. –í–∏ –±–∞—á–∏—Ç–µ –∫–æ–∂–Ω—É —É–≥–æ–¥—É –≤ —Ä–µ–∞–ª—å–Ω–æ–º—É —á–∞—Å—ñ –Ω–∞ —Å–≤–æ—î–º—É –±—ñ—Ä–∂–æ–≤–æ–º—É –∞–∫–∞—É–Ω—Ç—ñ. –ú–∏ –∫–µ—Ä—É—î–º–æ ‚Äî –≤–∏ –∫–æ–Ω—Ç—Ä–æ–ª—é—î—Ç–µ.",
        
        lang_select: "–û–±–µ—Ä—ñ—Ç—å –º–æ–≤—É:",
        lang_changed: "‚úÖ –ú–æ–≤—É –∑–º—ñ–Ω–µ–Ω–æ –Ω–∞ –£–∫—Ä–∞—ó–Ω—Å—å–∫—É.",
        
        survey_start: "–î–∞–π—Ç–µ –≤—ñ–¥–ø–æ–≤—ñ–¥—å –Ω–∞ 2 –∑–∞–ø–∏—Ç–∞–Ω–Ω—è, —â–æ–± –º–∏ —Ä–æ–∑—É–º—ñ–ª–∏ –≤–∞—à –¥–æ—Å–≤—ñ–¥.",
        q1: "1. –ß–∏ –∫–æ—Ä–∏—Å—Ç—É–≤–∞–ª–∏—Å—è –≤–∏ –∫–æ–ª–∏-–Ω–µ–±—É–¥—å USDT?",
        q2_exp: "2. –ß–∏ –¥–∞–≤–Ω–æ –≤–∏ –∑–Ω–∞–π–æ–º—ñ –∑ —Ä–∏–Ω–∫–æ–º –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç–∏?",
        q2_int: "2. –ß–∏ —Ü—ñ–∫–∞–≤–∏—Ç—å –≤–∞—Å —Ä–æ–∑—ñ–±—Ä–∞—Ç–∏—Å—è, —è–∫ –∑–∞—Ä–æ–±–∏—Ç–∏ —ñ –Ω–µ –ø—Ä–æ–≥–æ—Ä—ñ—Ç–∏ –Ω–∞ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç—ñ?",
        final: "<b>–î—è–∫—É—î–º–æ! –í–∞—à–∞ –∞–Ω–∫–µ—Ç–∞ –ø—Ä–∏–π–Ω—è—Ç–∞.</b>\n\n–ö–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç –∑–≤'—è–∂–µ—Ç—å—Å—è –∑ –≤–∞–º–∏ –Ω–∞–π–±–ª–∏–∂—á–∏–º —á–∞—Å–æ–º –¥–ª—è –æ–±–≥–æ–≤–æ—Ä–µ–Ω–Ω—è –¥–µ—Ç–∞–ª–µ–π –ø—ñ–¥–∫–ª—é—á–µ–Ω–Ω—è.",
        
        btn_yes: "–¢–∞–∫",
        btn_no: "–ù—ñ",
        btn_exp_1: "–ú–µ–Ω—à–µ —Ä–æ–∫—É",
        btn_exp_3: "–ë—ñ–ª—å—à–µ 3 —Ä–æ–∫—ñ–≤",
        btn_exp_5: "–ë—ñ–ª—å—à–µ 5 —Ä–æ–∫—ñ–≤",

        report_title: "–ù–û–í–ê –ó–ê–Ø–í–ö–ê",
    },
    en: {
        menu_about: "‚ÑπÔ∏è About Us / Presentation",
        menu_apply: "üìù Apply Now",
        menu_lang: "üåê Language",
        
        welcome: "Welcome to TYREX.\nChoose an action below:",
        
        about_text: 
            "<b>‚¨õÔ∏è TYREX Investment Methodology</b>\n\n" +
            "Professional capital management via API sub-accounts on Top-Tier exchanges (Binance, Bybit, Gate) <b>without transferring funds to third parties</b>.\n\n" +
            "‚öôÔ∏è <b>Tools:</b>\n" +
            "Synergy of <b>Dual Investment</b> + <b>Grid</b> trading strategies.\n\n" +
            "üéØ <b>Target:</b>\n" +
            "Target yield ‚Äî <b>45% APY in currency</b> (USDT).\n\n" +
            "üõ° <b>Security & Transparency:</b>\n" +
            "The client retains full control over assets. You see every trade in real-time on your exchange account. We manage ‚Äî you control.",
        
        lang_select: "Choose language:",
        lang_changed: "‚úÖ Language changed to English.",
        
        survey_start: "Answer 2 questions so we can understand your experience.",
        q1: "1. Have you ever used USDT?",
        q2_exp: "2. How long have you been familiar with the crypto market?",
        q2_int: "2. Are you interested in learning how to earn on crypto safely?",
        final: "<b>Thank you! Your application has been received.</b>\n\nA consultant will contact you shortly to discuss connection details.",
        
        btn_yes: "Yes",
        btn_no: "No",
        btn_exp_1: "Less than a year",
        btn_exp_3: "More than 3 years",
        btn_exp_5: "More than 5 years",

        report_title: "NEW LEAD",
    }
};

/**
 * –§—É–Ω–∫—Ü–∏—è –ø–µ—Ä–µ–≤–æ–¥–∞.
 * –ë–µ—Ä–µ—Ç —è–∑—ã–∫ –∏–∑ —Å–µ—Å—Å–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è. –ï—Å–ª–∏ —è–∑—ã–∫ –Ω–µ –Ω–∞–π–¥–µ–Ω, –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é RU.
 */
export const t = (ctx: MyContext, key: string): string => {
    // –ë–µ–∑–æ–ø–∞—Å–Ω—ã–π –¥–æ—Å—Ç—É–ø –∫ —Å–µ—Å—Å–∏–∏, –µ—Å–ª–∏ –≤–¥—Ä—É–≥ –æ–Ω–∞ –Ω–µ –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω–∞
    const lang = ctx.session?.language || 'ru';
    
    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è –∫–ª—é—á–∞
    const text = locales[lang]?.[key];
    
    if (!text) {
        console.warn(`‚ö†Ô∏è Warning: Missing translation for key '${key}' in language '${lang}'`);
        return key; // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–ª—é—á, —á—Ç–æ–±—ã –≤ –±–æ—Ç–µ –Ω–µ –±—ã–ª–æ –ø—É—Å—Ç–æ—Ç—ã
    }
    
    return text;
};

// –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É–µ–º —Å–ª–æ–≤–∞—Ä—å –¥–ª—è –ø—Ä—è–º–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫–Ω–æ–ø–æ–∫ –≤ middleware)
export { locales };